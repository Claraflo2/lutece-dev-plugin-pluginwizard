<#include "sidebar.html" />   

<div class="row">
	<div class="container mt-4" style="font-size: 14px; line-height: 1.42857143;">
		<div class="card">
			<div class="card-body">
				<div class="row">

					<!-- Side Bar-->
					<div class="col-md-3">         
                    	<@sidebar step="generate" />
                        <div class="card bg-light mt-2">
							<div class="card-body">
								<div class="card-text">     
									<#if (project_type?? && project_type == 'WORKFLOWTASK')>
                        				#i18n{pluginwizard.pluginwizard_plugin_recapitulate.pageHelpWorkflowTask} 
                        			<#else>
                        				#i18n{pluginwizard.pluginwizard_plugin_recapitulate.pageHelp}
                        			</#if>
                    			</div>  
                			</div>
                		</div>
                	</div>
                	<!-- End Side Bar-->

					<!-- Center Card Content-->
	                <div class="col-md-5">
	                    <#include "infos_handler.html" />
	                    <#include "errors_handler.html" />
	
	                    <h3 class="mt-2 mb-2" >
	                    	<#if (project_type?? && project_type == 'WORKFLOWTASK')>
	                    		#i18n{pluginwizard.pluginwizard_plugin_recapitulate.pageTitleWorkflowTask}
                            <#else>
                                #i18n{pluginwizard.pluginwizard_plugin_recapitulate.pageTitle}
                            </#if>	
	                    </h3> 
	
	                    <div class="card bg-light border rounded">
							<div class="card-body">
								<div class="card-text">
			                        <h4>
                            			#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelPluginName} : 
                            			<#if plugin_model.pluginName??>${plugin_model.pluginName}</#if>
                            		</h4>
			                        <br>
			                        <h5>#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelSummary} :</h5>
			
			                        <ul class="ps-3 pb-1" style="list-style-type: disc;">
			                            <#if business_classes?? > 
			                            	<#if business_classes?size gt 0 > 
					                            <li>
					                                <h5>
					                                    <span class="badge bg-secondary">${business_classes?size}</span> &nbsp; 
					                                    <#if business_classes?size = 1 > 
					                                    	#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelBusinessClasse}
					                                    <#else>
					                                    	#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelBusinessClasses}
					                                    </#if>
					                                </h5>
					                                <ul class="ps-5 pb-1" style="list-style-type: circle;">
					                                    <#list business_classes as business >
					                                    	<li> <h6> ${business.businessClass} </h6> </li>
					                                    </#list> 
					                                </ul>
					                            </li>
				                            </#if>
			                            </#if>
										
										<#if (project_type?? && project_type == 'WORKFLOWTASK')>
				                            <#if configuration?? > 
				                            	<#if configuration?size gt 0 > 
						                            <li>
						                                <h5>
						                                    <span class="badge bg-secondary">${business_classes?size}</span> &nbsp; 
						                                    	#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelWorkflowConfiguration}
						                                </h5>
						                                <ul class="ps-5 pb-1" style="list-style-type: circle;">
						                                    <li>
						                                    	<h6>
						                                    		#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelWorkflowTaskName} : ${configuration.workflowTaskName} 
						                                    	</h6>
						                                    </li>
						                                    <li> 
						                                    	<h6>
						                                    		#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelWorkflowFormConfigRequired} : 
						                                    		${configuration.workflowFormConfigRequired?switch( "1", "#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelTrue}", "0", "#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelFalse}" ) } 
						                                    	</h6>
						                                    </li>
						                                    <li> 
						                                    	<h6>
						                                    		#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelWorkflowFormTaskRequired} : 
						                                    		${configuration.workflowFormTaskRequired?switch( "1", "#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelTrue}", "0", "#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelFalse}" ) } 
						                                    	</h6>
						                                    </li>
						                                     <li> 
						                                    	<h6>
						                                    		#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelWorkflowTaskForAutomaticAction} :	
						                                    		${configuration.workflowTaskForAutomaticAction?switch( "1", "#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelTrue}", "0", "#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelFalse}" ) }
						                                    	</h6>
						                                    </li>
						                                </ul>
						                            </li>
					                            </#if>
				                            </#if>
				                        </#if>
			                            			
			                            <#if admin_features?? > 
				                            <#if admin_features?size gt 0 > 
					                            <li>
					                                <h5>
					                                    <span class="badge bg-secondary">${admin_features?size}</span> &nbsp; 
					                                    <#if admin_features?size = 1 > 
					                                    	#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelAdminFeature}
					                                    <#else>
					                                    	#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelAdminFeatures}
					                                    </#if>
					                                </h5>
					                                    <ul class="ps-5 pb-1" style="list-style-type: circle;">
					                                        <#list admin_features as feature>
					                                        <li> <h6> ${feature.featureTitle} </h6> </li>
					                                        </#list>
					                                    </ul>					                               
					                            </li>
				                            </#if>
			                            </#if>
			
			                            <#if plugin_applications?? > 
				                            <#if plugin_applications?size gt 0>
					                            <li>
					                                <h5>
					                                    <span class="badge bg-secondary">${plugin_applications?size}</span> &nbsp; 
					                                    <#if plugin_applications?size = 1 > 
					                                    	#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelXPage}
					                                    <#else>
					                                    	#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelXPages}
					                                    </#if>
					                                </h5>
					                            </li>
				                            </#if>
			                            </#if>
			
			                            <#if plugin_portlets?? >
				                            <#if plugin_portlets?size gt 0>
					                            <li>
					                                <h5>
					                                    <span class="badge bg-secondary">${plugin_portlets?size}</span> &nbsp; 
					                                    <#if plugin_portlets?size = 1 > 
					                                    	#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelPortlet}
					                                    <#else>
					                                    	#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelPortlets}
					                                    </#if>
					                                </h5>
					                            </li>
				                            </#if>
			                            </#if>
			
			                            <#if plugin_rest?? && plugin_rest.getIdBusinessClasses()?? >
				                            <#assign restSize = plugin_rest.getIdBusinessClasses()?size>                
				                            <#if restSize gt 0>
					                            <li>
					                                <h5>
					                                    <span class="badge bg-secondary">${restSize}</span> &nbsp; 
					                                    <#if restSize = 1 > 
					                                    	#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelRest}
					                                    <#else>
					                                    	#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelRests}
					                                    </#if>
					                                </h5>
					                            </li>
				                            </#if>                            
			                            </#if>
			
			                        </ul>
			                        <br>
			                        <div class="d-flex justify-content-between">
				                        <a class="btn btn-primary" href="jsp/site/Portal.jsp?page=pluginwizard&view=<#if (project_type?? && project_type == 'WORKFLOWTASK') >manageBusinessClasses<#else>manageRest</#if>" >
				                            <i class="ti ti-chevron-left"></i>
				                            	#i18n{pluginwizard.pluginwizard_plugin_recapitulate.buttonBack}
				                        </a>  
				                        <a class="btn btn-primary pull" href="jsp/site/Portal.jsp?page=pluginwizard" >
				                            <i class="ti ti-home"></i>
				                            	#i18n{pluginwizard.pluginwizard_plugin_recapitulate.home}
				                        </a>
				                        <br>
				                	</div>
			                    </div>
			                </div>
						</div>
					</div>
					<!-- End Center Card Content -->
					
					<!-- Right Card Content-->
	                <div class="col-md-4">
	                     <div class="card bg-light border rounded">
							<div class="card-body">
								<div class="card-text">
			                        <form action="jsp/site/plugins/pluginwizard/DownloadZip.jsp" method="post">                
			                            <input type="hidden" name="plugin_id" value="${plugin_id}" />
			                            <div class="mb-3">
			                                <label class="form-label">#i18n{pluginwizard.pluginwizard_plugin_recapitulate.labelScheme} :</label>
			                                <#assign defaultItemValue="0" />
			                                <#list combo_schemes as item >
			                                	<#if item.isChecked( ) >
			                                		<#assign defaultItemValue=item.code />
			                                	</#if>
			                                </#list>
			                                <@select name="scheme" default_value=defaultItemValue class='input-lg' items=combo_schemes />       
			                            </div>
			                            <button class="btn btn-success w-100" type="submit" >
			                                <i class="ti ti-download"></i>
			                                #i18n{pluginwizard.pluginwizard_plugin_recapitulate.buttonGenerate}
			                            </button>
			                        </form>
	                    		</div>
	                    	</div>
	                    </div>	
	                    		
	                    <div class="card bg-light border rounded mb-2 mt-2">
							<div class="card-body">
								<div class="card-text">
			                        <form action="jsp/site/plugins/pluginwizard/DownloadJson.jsp" method="post">                
			                            <input type="hidden" name="plugin_id" value="${plugin_id}" />
			                            <button class="btn btn-success w-100" type="submit" >
			                                <i class="ti ti-download">  </i>
			                                #i18n{pluginwizard.pluginwizard_plugin_recapitulate.buttonGenerateJson}
			                            </button>
			                        </form>
			                    </div>
			            	</div>
	                    </div>
	                    <div class="alert alert-danger">
	                        #i18n{pluginwizard.pluginwizard_plugin_recapitulate.alertProperties}
	                    </div>
	                </div>
	                <!-- End Right Card Content -->
	            </div>
	        </div>
	    </div>
	</div>
</div>