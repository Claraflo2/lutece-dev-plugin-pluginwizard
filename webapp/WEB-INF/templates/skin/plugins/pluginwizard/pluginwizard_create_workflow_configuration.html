<#include "sidebar.html" />

<div class="row">
	<div class="container mt-4" style="font-size: 14px; line-height: 1.42857143;">
		<div class="card">
			<div class="card-body">
				<div class="row">
					
					<!-- Side Bar-->
					<div class="col-md-3">
                        <@sidebar step="configuration" />
                        <div class="card bg-light mt-2">
                            <div class="card-body">
                                <div class="card-text">
                                    #i18n{pluginwizard.pluginwizard_create_workflow_configuration.pageHelp}
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- End Side Bar-->

                    <!-- Card Content-->
                    <div class="col-md-9">
                        <form id="create-configuration-form" class="form-horizontal" method="post" action="jsp/site/Portal.jsp">
                            <fieldset>
                                <legend>#i18n{pluginwizard.pluginwizard_create_workflow_configuration.pageTitle}</legend>
                                
                                <#include "errors_handler.html" />

                            	<input type="hidden" name="page" value="pluginwizard" />
                            	<input type="hidden" name="id_plugin" value="${plugin_id}" />
								
								
								<!-- Group form task name -->
                                <div class="row mb-3 align-items-start">
                                    <label class="col-form-label col-md-2 text-end align-self-start">
                                        #i18n{pluginwizard.pluginwizard_create_workflow_configuration.labelWorkflowTaskName} * : #i18n{pluginwizard.pluginwizard_create_workflow_configuration.labelWorkflowUpperCase}
                                    </label>
                                    
                                    <div class="col-md-10">
                                       <input type="text" id="taskName-input" name="workflow_task_name" class="form-control" <#if  plugin_model.configuration??>value="${plugin_model.configuration.workflowTaskName}"</#if>
                                               placeholder="#i18n{pluginwizard.pluginwizard_create_workflow_configuration.placeholderTaskName}" aria-describedby="taskName-help-message-div" size="30" maxlength=51 />
 
                                    	<div id="taskName-help-message-div" class="mt-2 text-muted" aria-live="polite" role="alert">
                                            <span id="taskNameSize-help-message-span" class="d-block"><i id="taskNameSize-help-icon"></i> 
                                                #i18n{pluginwizard.pluginwizard_create_workflow_configuration.helpRulesTaskNameSize}
                                            </span>
                                            <span id="taskName-help-message-span" class="d-block"><i id="taskName-help-icon"></i> 
                                                #i18n{pluginwizard.pluginwizard_create_workflow_configuration.helpRulesTaskName}
                                            </span>
                                        </div>
                                    </div>
                                </div>
								
								
                                 <!-- Group form configRequired -->
                                <div class="row mb-3 align-items-start">
                                    <label class="col-form-label col-md-2 text-end align-self-start">
                                    	#i18n{pluginwizard.pluginwizard_create_workflow_configuration.labelWorkflowFormConfigRequired} * :
                                    </label>
                                    <div class="col-md-10">
                                        <select id="workflowFormConfigRequired" name="workflow_form_config_required" class="form-select" aria-describedby="workflowFormConfigRequired-help-message-div">
                                            <option value="0" <#if  plugin_model.configuration.workflowFormConfigRequired=="0">selected</#if>>#i18n{pluginwizard.pluginwizard_create_workflow_configuration.labelFalse}</option>
                                            <option value="1" <#if  plugin_model.configuration.workflowFormConfigRequired=="1">selected</#if>>#i18n{pluginwizard.pluginwizard_create_workflow_configuration.labelTrue}</option>
                                        </select>
                                        <div id="workflowFormConfigRequired-help-message-div" class="mt-2 text-muted" aria-live="polite" role="alert">
											<span id="workflowFormConfigRequiredTrue-help-message-span" class="d-none">
												<i class="ti ti-info-circle mx-1"></i>#i18n{pluginwizard.pluginwizard_create_workflow_configuration.helpRulesWorkflowFormConfigRequiredTrue}
											</span>
											<span id="workflowFormConfigRequiredFalse-help-message-span" class="d-block">
												<i class="ti ti-info-circle mx-1"></i>#i18n{pluginwizard.pluginwizard_create_workflow_configuration.helpRulesWorkflowFormConfigRequiredFalse}
											</span>
										</div>
                                    </div>
                                </div>
                                
                                <!-- Group form formTaskRequired -->
                                <div class="row mb-3 align-items-start">
                                    <label class="col-form-label col-md-2 text-end align-self-start">
                                        #i18n{pluginwizard.pluginwizard_create_workflow_configuration.labelWorkflowFormTaskRequired} * :
                                    </label>
                                    <div class="col-md-10">
                                        <select id="workflowFormTaskRequired" name="workflow_form_task_required" class="form-select" aria-describedby="workflowFormTaskRequired-help-message-div">
                                            <option value="0" <#if  plugin_model.configuration.workflowFormTaskRequired == "0">selected</#if>>#i18n{pluginwizard.pluginwizard_create_workflow_configuration.labelFalse}</option>
                                            <option value="1" <#if  plugin_model.configuration.workflowFormTaskRequired == "1">selected</#if>>#i18n{pluginwizard.pluginwizard_create_workflow_configuration.labelTrue}</option>
                                        </select>
                                        <div id="workflowFormTaskRequired-help-message-div" class="mt-2 text-muted" aria-live="polite" role="alert">
											<span id="workflowFormTaskRequiredTrue-help-message-span" class="d-none">
												<i class="ti ti-info-circle mx-1"></i>#i18n{pluginwizard.pluginwizard_create_workflow_configuration.helpRulesWorkflowFormTaskRequiredTrue}
											</span>
											<span id="workflowFormTaskRequiredFalse-help-message-span" class="d-block">
												<i class="ti ti-info-circle mx-1"></i>#i18n{pluginwizard.pluginwizard_create_workflow_configuration.helpRulesWorkflowFormTaskRequiredFalse}
											</span>
										</div>
                                    </div>
                                </div>
                                
                                <!-- Group form taskForAutomaticAction -->
                                <div class="row mb-3 align-items-start">
                                    <label class="col-form-label col-md-2 text-end align-self-start">
                                         #i18n{pluginwizard.pluginwizard_create_workflow_configuration.labelWorkflowTaskForAutomaticAction} * :
                                    </label>
                                    <div class="col-md-10">
                                        <select id="workflowTaskForAutomaticAction" name="workflow_task_for_automatic_action" class="form-select" aria-describedby="workflowTaskForAutomaticAction-help-message-div">
                                            <option value="0" <#if  plugin_model.configuration.workflowTaskForAutomaticAction == "0">selected</#if>>#i18n{pluginwizard.pluginwizard_create_workflow_configuration.labelFalse}</option>
                                            <option value="1" <#if  plugin_model.configuration.workflowTaskForAutomaticAction == "1">selected</#if>>#i18n{pluginwizard.pluginwizard_create_workflow_configuration.labelTrue}</option>
                                        </select>
                                        <div id="workflowTaskForAutomaticAction-help-message-div" class="mt-2 text-muted" aria-live="polite" role="alert">
											<span id="workflowTaskForAutomaticActionTrue-help-message-span" class="d-none">
												<i class="ti ti-info-circle mx-1"></i> #i18n{pluginwizard.pluginwizard_create_workflow_configuration.helpRulesWorkflowTaskForAutomaticActionTrue}
											</span>
											<span id="workflowTaskForAutomaticActionFalse-help-message-span" class="d-block">
												<i class="ti ti-info-circle mx-1"></i> #i18n{pluginwizard.pluginwizard_create_workflow_configuration.helpRulesWorkflowTaskForAutomaticActionFalse}
											</span>
										</div>
                                    </div>
                                </div>
                                

                               <!-- Submit Buttons -->
                                <div class="row mb-3">
                                    <div class="col-md-9 offset-md-3">
                                        <button type="submit" name="view_modifyDescription" class="btn btn-primary me-2">
                                            <i class="ti ti-chevron-left"></i>
                                            #i18n{pluginwizard.pluginwizard_create_workflow_configuration.buttonBack}
                                        </button>
                                        <button type="submit" name="action_configurationNext" class="btn btn-primary">
                                            #i18n{pluginwizard.pluginwizard_create_workflow_configuration.buttonNext}
                                            <i class="ti ti-chevron-right"></i>
                                        </button>
                                    </div>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                    <!-- End Card Content-->
                </div>
            </div>
        </div>
    </div>
</div>

<div id="result" ></div>

<script src='js/plugins/pluginwizard/validator.js'></script>

<script>
	updateFormFront('create-configuration-form');
	updateDivInfoVisibility('create-configuration-form');
	document.getElementById('create-configuration-form').addEventListener('input', function(event){validationForm(event);});

	document.getElementById('workflowFormConfigRequired').addEventListener('change', function(event){
		switchDivInfoVisibility(event.target.id);});
	document.getElementById('workflowFormTaskRequired').addEventListener('change', function(event){
		switchDivInfoVisibility(event.target.id);});
	document.getElementById('workflowTaskForAutomaticAction').addEventListener('change', function(event){
		switchDivInfoVisibility(event.target.id);});
</script>
 
 
 